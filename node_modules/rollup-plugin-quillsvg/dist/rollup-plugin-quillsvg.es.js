import { readFileSync } from 'fs';
import { extname } from 'path';
import { createFilter } from 'rollup-pluginutils';

function quillsvg(options) {
	if ( options === void 0 ) options = {};

	var filter = createFilter(options.include, options.exclude)

	return {
		name: 'quillsvg',

		load: function load(id) {

			if (!filter(id) || extname(id) !== '.svg') {
				return null
			}

			var data = readFileSync(id, 'utf-8');
			var exported = "export default " + "`" + data + "`";

			return {
				code: exported,
				map: {
					mappings: ''
				}
			}
		}
	}
}

export default quillsvg;