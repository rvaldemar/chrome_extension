'use strict';

var fs = require('fs');
var path = require('path');
var rollupPluginutils = require('rollup-pluginutils');

function quillsvg(options) {
	if ( options === void 0 ) options = {};

	var filter = rollupPluginutils.createFilter(options.include, options.exclude)

	return {
		name: 'quillsvg',

		load: function load(id) {

			if (!filter(id) || path.extname(id) !== '.svg') {
				return null
			}

			var data = fs.readFileSync(id, 'utf-8');
			var exported = "export default " + "`" + data + "`";

			return {
				code: exported,
				map: {
					mappings: ''
				}
			}
		}
	}
}

module.exports = quillsvg;